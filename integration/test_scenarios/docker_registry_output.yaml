name: Docker Registry Outputs
repo: docker_registry_output
requires_creds: true
cases:
  - name: creates_docker_registry_output
    args:
      - build
      - :docker_output
    tags:
      # Add this tag so that the output is consistent
      - multiplatform-cache

  - name: loads_docker_registry_output
    args:
      - build
      - :docker_output
    tags:
      - multiplatform-cache

  - name: creates_remote_docker_registry_output
    args:
      - build
      - :remote_docker_output_succeeds
    tags:
      - multiplatform-cache
# TODO figure out why this produces different digests on mac vs ci
#  - name: loads_remote_docker_registry_output
#    args:
#      - build
#      - :remote_docker_output_succeeds
#    tags:
#      - multiplatform-cache

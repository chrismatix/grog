amends ".../pkl/package.pkl"

targets {
  new {
    name = "foo"
    inputs { "src/*.txt" }
    command = "cat src/source_1.txt src/source_2.txt > output.txt"
    outputs {
      "output.txt"
    }
  }

  new {
    name = "dir"
    inputs { "src/*.txt" }
    command = """
      rm -r dist || true
      mkdir -p dist/nested
      echo "Hello World" > dist/file1.txt
      echo "Lorem ipsum" > dist/file2.txt
      echo "foo" > dist/nested/file3.txt
    """
    outputs {
      "dir::dist"
    }
  }
}

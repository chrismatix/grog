amends ".../pkl/package.pkl"

targets {
  new {
    name = "target_a"
    command = "echo 'data for output 1' > output_1.txt"
    outputs {
      "output_1.txt"
    }
  }

  new {
    name = "target_b"
    command = "cat output_1.txt > output_2.txt"
    dependencies {
      ":target_a"
    }
    outputs {
      "output_2.txt"
    }
  }

  new {
    name = "target_c"
    command = "cat output_2.txt > output_3.txt"
    dependencies {
      ":target_b"
    }
    inputs {
      "ignored_input.txt"
    }
    outputs {
      "output_3.txt"
    }
  }

  new {
    name = "runnable_target"
    inputs {
      "hello_world.sh"
    }
    bin_output = "hello_world.sh"
    dependencies {
      ":target_b"
    }
    tags {
      "no-cache"
    }
  }
}
